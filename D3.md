# UNIREVIEW


## INDICE


[Scopo del documento](#scopo-del-documento)


1. [Diagramma delle classi](#1-diagramma-delle-classi)
	1. [Utenti e relative funzionalità](#11-utenti-e-relative-funzionalità)
	2. [Sistema di autenticazione](#12-sistema-di-autenticazione)
	3. [Ricerca](#13-ricerca)
	4. [DBMSRecensioni](#14-dbmsrecensioni)
	5. [Statistiche](#15-statistiche)
	6. [Classi di invio messaggi](#16-classi-di-invio-di-messaggi)
	7. [Recensioni](#17-recensioni)
	8. [Gestione Interfaccia](#18-gestione-interfaccia)
	9. [Diagramma complessivo](#19-diagramma-complessivo)

## Scopo del documento


Nel documento verrà presentata la struttura dell’architettura della webapp UniReview nella definizione delle sue classi attraverso diagrammi in linguaggio UML, così come codice OCL per la definizione della logica del sistema. Questo documento si basa sulle specifiche del documento precedente, in particolar modo in riferimento agli use-case diagram e al diagramma dei componenti. L’architettura del sistema fa riferimento alla progettazione già presentata, e in seguito questa dovrà poi essere tradotta a livello di codice tenendo a mente la logica già definita riguardo al comportamento del software.

## Diagramma delle classi


In questo capitolo verranno mostrate le classi da implementare nel progetto UniReview. Per permettere l'implementazione delle specifiche già descritte nei documenti precedenti. Ogni componente si traduce in una o molteplici classi in riferimento anche ai requisiti funzionali. Questo si nota facilmente osservando il nome della classe, gli attributi che contiene, così come i metodi volti alla modifica e controllo di questi.

Qui sotto si presentano le classi previste per il progetto individuate nei diagrammi di contesto e dei componenti.

### 1.1 Utenti e relative funzionalità


![image](https://lh7-eu.googleusercontent.com/TPqj-eP3spxls7NawYPDseLPeMbdR80jvCV5To8dcbABkibeWR7oQcArmCCs3Pb3QLurYASLk7G2mNCv6ajqHHbjIzrO1u2KHPjwmCcGfWkiXpqGWgVgfl53suCdiAAlV1dW-5Fd7eD4hHD34URYBJI)

Come mostrato dal diagramma dei componenti, si nota la presenza di tre attori: Utente anonimo, Utente standard e Utente moderatore. Come viene definito dagli use-case diagram, questi hanno funzionalità condivise in relazione IS-A. La classe UtenteAnonimo racchiude tutte le funzionalità base del sistema, a cui tutti hanno accesso. Ogni classe con gerarchia superiore avrà accesso a funzionalità ulteriori, come definito dal RF2.

### 1.2 Sistema di autenticazione


![image](https://lh7-eu.googleusercontent.com/CTJ0MVDNM6lEotGPZ2261VGJAulJXBFvVH7ye0GydgLr2obm_HmW5wFYlW6se6qPpsruAWHhko-wKFEQ3vq2md8BIyo8XraeekG46AhjldZVbSNJymEPIhyaxYWhHv52X9ZWjSeyc8oDuCpyhTjhE7k)

Come osserviamo dagli use-case diagram, all’utente anonimo viene data la possibilità di autenticarsi. Per rendere ciò possibile la classe UtenteAnonimo possiede un riferimento alla classe Autenticazione, ovvero un modulo da compilare che si assicura che l’utente sia idoneo all'autenticazione. Per assicurarsi la privacy dell’utente, come si osserva anche dai RNF,  la classe non memorizza le credenziali inserite, appoggiandosi alle API di ateneo per effettuare la conferma delle credenziali.

La classe Autenticazione è inoltre responsabile della verifica che l’utente che sta tentando di effettuare l’accesso non risulti “sospeso”, in questo caso verrà negato il suo accesso.

### 1.3 Ricerca


![image](https://lh7-eu.googleusercontent.com/cuWpCHFrPIYZUleaUywrDJcWnFsCpzcdNOhdDUCcb9dfn945XVmOt6D45UM3HQBCHdbiGBFo72mC0EKmINVsObXDzh-QdnDHczk_TzFpVCUD7AhZC1HbmSrZywabLt3M5xv4FZ0Rc9fOuVVuRk8YmII)

La classe Ricerca, come si osserva dal diagramma di contesto e dei componenti, si interfaccia con l’utente per permettere la ricerca di recensioni all’interno del database. La classe UtenteAnonimo si appoggia infatti su di essa per poter consultare il database della webapp al momento della ricerca. Ad essa vengono anche date le funzionalità di ordinamento definite nel documento dei requisiti funzionali.

### 1.4 DBMSRecensioni


![image](https://lh7-eu.googleusercontent.com/F-NiVSnCUehar4o9_uWKsB7YxaR9d8LX9Jy_JWIVuOxa31ElYJAXH9K1zWdIf_0PFUZ9UBJj_71T69B0_jbCr7700OMHFdGO7JT84aFpPJWdpWlpSb_6C5cEF2OS0tjwpg6PFXzIAe-Y1S93D-ciOjE)

Questa classe è a stretto contatto con il database di UniReview, presente in relazione 1..1 con le classi UtenteStandard e Ricerca. La classe sta alla base delle funzioni di ricerca, aggiunta, modifica e rimozione di recensioni all’interno del database, come si osserva anche dal diagramma dei componenti. La classe contiene, infatti, un riferimento al link del database della webapp che viene consultato per qualsiasi operazione di ricerca o modifica.

### 1.5 Statistiche


![image](https://lh7-eu.googleusercontent.com/518txhq6-nX-3a6mApB-pfjazWnDsEbzXy0oDhfdLhCzWIEr9TUAF1F5TbxjkAj-zmjgHhY588o6zxFWoq9C-xC-8x6u2RjrnWuROcDF5w1MpikszTKqfKktVQs_LjCSil-tAg8yB44_l6N8zm-FrTo)

La classe si appoggia a Ricerca per fornire tutte le statistiche che compaiono in seguito alla ricerca delle recensioni, come viene descritto anche dagli use-case diagram.

### 1.6 Classi di invio di messaggi


![image](https://lh7-eu.googleusercontent.com/To9n1mv6LUlZ5ZQi4DkCZsTMAwG85U3RzsCYDUMLqNb3dEGoePkP2wNJUKl7ICjlDl6XZwKE9ui9gPrOfWvvgMFSIhkrPuKH1_VRwnonxRVWOMQ3M6ZPymmgbDUOFNg5mlqhVsgFRaHQE3W2ebZ9jSY)

Dagli use-case diagram e dal diagramma dei componenti si nota che ci sono diversi attori che svolgono azioni che comportano l’invio di una notifica email tramite API esterne. Questo meccanismo viene gestito dalla classe Contatta, strutturata come un modulo da compilare per permettere a UtenteStandard di contattare utenti moderatori inserendo un messaggio. Ci sono poi due classi in relazione IS-A: la classe Promuovi permette ai moderatori di promuovere utenti standard a moderatori, scatenando quindi l’invio del messaggio di upgrade all’utente interessato. La classe Ban permette ad UtenteModerarore di sospendere temporaneamente l’accesso ad un utente sulla piattaforma. Anche in questo caso l’utilizzo delle funzionalità della classe scatenano l’invio di un’email di notifica.

### 1.7 Recensioni


![image](https://res.craft.do/user/full/012e56eb-c76b-1e84-3612-ac34c1e3b98e/02691944-AD05-4E5C-9CA9-DFF0F0DFF222_2/k6cVpKzqNxKFoDNzfns1GRHKL8dMAveufBc8cgkp1xkz/Image.png)

La classe Recensione è l’oggetto alla base di tutte le transazioni che avvengono tra il sistema della webapp e il relativo database. Si presenta come un modulo di cui compilare i campi, specificati dai RF. La classe presenta anche un metodo per calcolare la media delle tre valutazioni date, descritte attraverso il tipo specifico Stars, ovvero un numero intero che va da 0 a 5 compresi. Alla classe viene anche dato un ID per permetterne una ricerca più efficace.

### 1.8 Gestione interfaccia


![image](https://lh7-eu.googleusercontent.com/A8Nro141bcPg468FBzmZ2pVQFdGHxGFU1lJG0v4YBDHRwEZ6JX0OhIwMy7ZdEA-3iF5QV55is4IKqYIRun3BElY6uQzdlHzFkXYh4FFdLcYBCTrcH70DSStQRP6Q5QAV2Fl9MeQoRzr7iNv6q0FjBHA)

Questa classe, come si nota dal diagramma di contesto, permette all’utente di modificare le preferenze dell’interfaccia grafica quali la lingua di sistema e il tema attraverso appositi metodi.

### 1.9 Diagramma complessivo


![image](https://lh7-eu.googleusercontent.com/6vINJMIp8pr9GaQopDIyhEERs1mY_F_zpJfYUcPqnw6jWNj20U4qyrTHTfFZ1UXRCE_ouk0R0EEfjcD8PmdmaMAbk48X8kaIwwjlFLw7pjFkAlHY-wb09rduRh8GUkQmkXKb9i0dHgnDQktfRei7muM)

Qui sopra viene mostrato il diagramma complessivo delle classi del progetto UniReview, con relative relazioni di eredità e dipendenza.
